<html>
  <head>
    <title>SoFiA Handbook - Parameters: Source Finding</title>
  </head>
  
  <body style="margin:5px;">
    <h1 style="color:#4060A0;">Parameters</h1>
    
    <h2 style="color:#4060A0;">Source Finding</h2>
    
    <p align="center">
      <img src="images/interface_sourcefinding.png" width="360" heigh="188" alt="SoFiA User Interface: Source Finding Parameters" />
    </p>
    
    <p>
      Here, the actual source finding algorithm can be selected and set up. Currently, only the smooth + clip source finder and a simple threshold finder are available.
    </p>
    
    <h3 style="color:#4060A0;">Smooth + clip finder</h3>
    
    <table style="margin:10px; background-color:#E0F0FF;" cellspacing="0" cellpadding="3" border="1">
      <tr>
        <th align="left" style="background-color:#4060A0; color:#FFFFFF;">Module / Parameter</th>
        <th align="left" style="background-color:#4060A0; color:#FFFFFF;">Type</th>
        <th align="left" style="background-color:#4060A0; color:#FFFFFF;">Values</th>
        <th align="left" style="background-color:#4060A0; color:#FFFFFF;">Description</th>
      </tr>
      <tr style="background-color:#F0F8FF;">
        <td>steps.doSCfind</td>
        <td>bool</td>
        <td><b>true</b>, false</td>
        <td>Run the smooth + clip finder?</td>
      </tr>
      <tr>
        <td>SCfind.threshold</td>
        <td>float</td>
        <td>&ge; 0.0; default: <b>4.0</b></td>
        <td>Flux threshold relative to the noise level.</td>
      </tr>
      <tr style="background-color:#F0F8FF;">
        <td>SCfind.edgeMode</td>
        <td>string</td>
        <td><b>constant</b>, reflect, mirror, nearest, wrap</td>
        <td>Behaviour near the edge of the cube.</td>
      </tr>
      <tr>
        <td>SCfind.rmsMode</td>
        <td>string</td>
        <td><b>negative</b>, mad, std</td>
        <td>Noise determination method: Gaussian fit to negative flux histogram (negative), median absolute deviation (mad), or standard deviation (std).</td>
      </tr>
      <tr style="background-color:#F0F8FF;">
        <td>SCfind.kernelUnit</td>
        <td>string</td>
        <td><b>pixel</b>, world</td>
        <td>Are kernel parameters specified in pixel or world coordinates?</td>
      </tr>
      <tr>
        <td>SCfind.kernels</td>
        <td>string</td>
        <td>list of kernels; default: <b>[[0, 0, 0, 'b'],[0, 0, 2, 'b'],[0, 0, 4, 'b'],[0, 0, 8, 'b'],[0, 0, 16, 'b'],[3, 3, 0, 'b'],[3, 3, 2, 'b'],[3, 3, 4, 'b'],[3, 3, 8, 'b'],[3, 3, 16, 'b'],[6, 6, 0, 'b'],[6, 6, 2, 'b'],[6, 6, 4, 'b'],[6, 6, 8, 'b'],[6, 6, 16, 'b'],[9, 9, 0, 'b'],[9, 9, 2, 'b'],[9, 9, 4, 'b'],[9, 9, 8, 'b'],[9, 9, 16, 'b']]</b></td>
        <td>List of kernels to be used for smoothing. Format is [[dx, dy, dz, 'type'], ...] where dx, dy, and dz are the spatial and spectral kernel sizes (FWHM), and 'type' can be boxcar ('b') or Gaussian ('g'). Note that 'type' only applies to the spectral axis, and the spatial kernel is always Gaussian.</td>
      </tr>
      <tr style="background-color:#FFF8F0;">
        <td>SCfind.sizeFilter</td>
        <td>float</td>
        <td><b>0.0</b> &ndash; 1.0</td>
        <td>Size filtering; set to zero not to size-filter (default and recommended).</td>
      </tr>
      <tr style="background-color:#F0E0E0;">
        <td>SCfind.maskScaleXY</td>
        <td>float</td>
        <td><b>2.0</b></td>
        <td>Set already detected pixels to &sigma; &times; threshold &times; maskScaleXY before spatial smoothing.</td>
      </tr>
      <tr style="background-color:#FFF8F0;">
        <td>SCfind.maskScaleZ</td>
        <td>float</td>
        <td><b>2.0</b></td>
        <td>Set already detected pixels to &sigma; &times; threshold &times; maskScaleZ before spectral smoothing.</td>
      </tr>
      <tr style="background-color:#F0E0E0;">
        <td>SCfind.verbose</td>
        <td>bool</td>
        <td><b>true</b>, false</td>
        <td>If true, print progress information.</td>
      </tr>
      <tr>
        <td colspan="4" style="background-color:#FFFFFF;">Default values are set in <b>bold-face</b> font. Parameters on a red background are not accessible through the user interface.</td>
      </tr>
    </table>
    
    <h3 style="color:#4060A0;">Threshold finder</h3>
    
    <table style="margin:10px; background-color:#E0F0FF;" cellspacing="0" cellpadding="3" border="1">
      <tr>
        <th align="left" style="background-color:#4060A0; color:#FFFFFF;">Module / Parameter</th>
        <th align="left" style="background-color:#4060A0; color:#FFFFFF;">Type</th>
        <th align="left" style="background-color:#4060A0; color:#FFFFFF;">Values</th>
        <th align="left" style="background-color:#4060A0; color:#FFFFFF;">Description</th>
      </tr>
      <tr style="background-color:#F0F8FF;">
        <td>steps.doThreshold</td>
        <td>bool</td>
        <td>true, <b>false</b></td>
        <td>Run the threshold finder?</td>
      </tr>
      <tr>
        <td>threshold.threshold</td>
        <td>float</td>
        <td>&ge; 0.0; default: <b>4.0</b></td>
        <td>Absolute or relative flux threshold (see threshold.clipMethod).</td>
      </tr>
      <tr style="background-color:#F0F8FF;">
        <td>threshold.clipMethod</td>
        <td>string</td>
        <td><b>relative</b>, absolute</td>
        <td>Should threshold be relative to the noise level or in absolute flux units?</td>
      </tr>
      <tr>
        <td>threshold.rmsMode</td>
        <td>string</td>
        <td>negative, mad, <b>std</b></td>
        <td>Noise determination method: Gaussian fit to negative flux histogram (negative), median absolute deviation (mad), or standard deviation (std).</td>
      </tr>
      <tr style="background-color:#FFF8F0;">
        <td>threshold.verbose</td>
        <td>bool</td>
        <td>true, <b>false</b></td>
        <td>If true, print progress information.</td>
      </tr>
      <tr>
        <td colspan="4" style="background-color:#FFFFFF;">Default values are set in <b>bold-face</b> font. Parameters on a red background are not accessible through the user interface.</td>
      </tr>
    </table>
    
    <p align="center">
      <a href="parameters_inputfilter.html">&larr;&nbsp;Previous</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="parameters.html">&uarr;&nbsp;Up</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="parameters_merging.html">Next&nbsp;&rarr;</a>
    </p>
    
    <p>&nbsp;</p>
  </body>
</html>
